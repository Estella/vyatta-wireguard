type: txt
help: Preshared key
val_help: File in /config/auth or 44-character (32-bytes) base64

create:
	if [[ $(/opt/vyatta/sbin/check_curve25519_or_file_in_configauth_dir $VAR(@)) == "inline" ]]; then
		echo "$VAR(@)" | sudo wg set $VAR(../@) preshared-key /dev/stdin
	else
		sudo wg set $VAR(../@) preshared-key $VAR(@)
	fi
delete:
	sudo wg set $VAR(../@) preshared-key /dev/null
update:
	if [[ $(/opt/vyatta/sbin/check_curve25519_or_file_in_configauth_dir $VAR(@)) == "inline" ]]; then
		echo "$VAR(@)" | sudo wg set $VAR(../@) preshared-key /dev/stdin
	else
		sudo wg set $VAR(../@) preshared-key $VAR(@)
	fi
